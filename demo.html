<!-- demo.html -->
<html>
<head>
	<title>Open Wireframes Demo</title>
	<script type="text/javascript" src="esprima.js"></script>
	<script type="text/javascript" src="js-yaml-min.js"></script>
	<script type="text/javascript" src="owf.js"></script>
	<script type="text/javascript">
		function go () {
			var src=document.getElementById("srcTxt");
			var dstTxt=document.getElementById("dstTxt");
			var dstFrame=document.getElementById("dstFrame");
			var view;
			try{
				var ast=jsyaml.load(src.value);
				// dst.value = jsyaml.dump(ast);
				// dstTxt.value = JSON.stringify(ast);
				view = owf.render(ast,true);
			}catch(e){
				view = e + '<br/>' +e.stack.replace('\n','<br/>');
			}
			dstFrame.contentDocument.body.innerHTML = view;
		}

	</script>
	<style type="text/css">
		html {width: 100%; height:100%}
		body {width: 100%; height:80%; font-family: Verdana;}
		#src {width:29%; height: 99%; float:left; padding-left:5px;}
		#dst {width:67%; height: 99%; float:right; padding-right:5px;}
		textarea {width: 99%; height:99%;}
		#dstFrame {width: 99%; height: 99%}
		#dstTxt { display: none;}
	</style>
</head>
<body>
	<h1>Open Wireframes Demo</h1>
	<div id="src">
		<textarea id="srcTxt">
name: testui
type: tworows
has:
  - name: header
    type: title
    value: Open Wireframes Demo
  - name: body
    type: threecolumns
    has:
      - name: source
        type: textarea
        width: 49%
        height: 100%
        value: "Enter owf source here"
      - name: goButton
        type: button 
        value: Go
      - name: dest
        type: textarea
        width: 49%
        height: 100%
        value: "See result here"
		</textarea>
	</div>
	<input type=button value="Go" onclick="go()"/>
	<div id="dst">
		<textarea id="dstTxt">See result here</textarea>
		<iframe id="dstFrame"></iframe>
	</div>
</body>
</html>